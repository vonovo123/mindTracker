<head></head>
<body>
    <button onclick="
        console.log(test);
        let bStatus = Math.random() > 0.5;
        fnCreatePromise(bStatus)
         .then(pResult => {test = pResult; console.log(test)})
         .catch(pErrMsg =>  {test = pErrMsg; console.log(test)});
        console.log(test);
    ">상품배송시작</button>
</body>
<script>
    let test = null;
    function fnCreatePromise(pStatus){
        return new Promise((fnResolve, fnReject) => {
            setTimeout(() => {
                if(pStatus) fnResolve('done');
                else fnReject('fail')
            }, 3000)
        })
    }
</script> 
